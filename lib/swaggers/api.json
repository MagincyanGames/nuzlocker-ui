{"openapi":"3.0.0","paths":{"/api/users":{"get":{"operationId":"UsersController_getUsers","parameters":[],"responses":{"200":{"description":"Lista completa de usuarios (sin contraseñas)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}}}}},"summary":"Obtener todos los usuarios","tags":["Users"]}},"/api/users/search":{"get":{"operationId":"UsersController_search","parameters":[{"name":"query","required":true,"in":"query","description":"Texto a buscar en el username (mínimo 3 caracteres)","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuarios encontrados que coinciden con la consulta (sin contraseñas)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"400":{"description":"La consulta debe tener al menos 3 caracteres"}},"summary":"Buscar usuarios por username","tags":["Users"]}},"/api/users/{userId}/stats":{"get":{"operationId":"UsersController_getUserStats","parameters":[{"name":"userId","required":true,"in":"path","description":"ID del usuario","schema":{"type":"string"}}],"responses":{"200":{"description":"Estadísticas del usuario","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatsResponseDto"}}}},"404":{"description":"Usuario no encontrado"}},"summary":"Obtener estadísticas globales de un usuario","tags":["Users"]}},"/api/auth/register":{"post":{"description":"Creates a new user account with hashed password and returns user info with JWT token","operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponseDto"},"example":{"user":{"name":"John Doe","username":"johndoe123"},"id":"60d5ec9af682fbd12a0944ab","access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","success":true}}}},"400":{"description":"Bad request - Invalid input data or username already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":400,"message":["username must be longer than or equal to 3 characters","password must be longer than or equal to 6 characters"],"error":"Bad Request","success":false}}}},"409":{"description":"Conflict - Username already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":409,"message":"Username already exists","error":"Conflict","success":false}}}}},"summary":"Register a new user","tags":["Authentication"]}},"/api/auth/login":{"post":{"description":"Authenticates user credentials and returns user info with JWT token","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"},"example":{"user":{"name":"John Doe","username":"johndoe123"},"id":"60d5ec9af682fbd12a0944ab","access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","success":true}}}},"400":{"description":"Bad request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":400,"message":["username should not be empty","password should not be empty"],"error":"Bad Request","success":false}}}},"401":{"description":"Unauthorized - Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":401,"message":"Invalid credentials","error":"Unauthorized","success":false}}}}},"summary":"Login with username and password","tags":["Authentication"]}},"/api/auth/validate":{"get":{"description":"Validates the provided JWT token and returns current user information with a new token","operationId":"AuthController_validate","parameters":[],"responses":{"200":{"description":"Token is valid and user info retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateResponseDto"},"example":{"user":{"name":"John Doe","username":"johndoe123"},"id":"60d5ec9af682fbd12a0944ab","access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","success":true}}}},"401":{"description":"Unauthorized - Invalid, expired, or missing token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":401,"message":"Unauthorized","error":"Unauthorized","success":false}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"},"example":{"statusCode":404,"message":"User not found","error":"Not Found","success":false}}}}},"security":[{"access-token":[]}],"summary":"Validate JWT token and get user info","tags":["Authentication"]}},"/api/lockes":{"post":{"operationId":"LockesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLockeDto"}}}},"responses":{"201":{"description":"Locke creado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"400":{"description":"Datos inválidos"}},"security":[{"access-token":[]}],"summary":"Crear un nuevo locke","tags":["Lockes"]},"get":{"operationId":"LockesController_findAll","parameters":[{"name":"active","required":false,"in":"query","description":"Filtrar por estado activo. Si se omite, devuelve todos los lockes independientemente de su estado.","schema":{"enum":["true","false"],"type":"string"}}],"responses":{"200":{"description":"Lista de lockes","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}}}},"security":[{"access-token":[]}],"summary":"Obtener todos los lockes","tags":["Lockes"]}},"/api/lockes/{id}":{"get":{"operationId":"LockesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Locke encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Obtener un locke por ID","tags":["Lockes"]},"patch":{"operationId":"LockesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLockeDto"}}}},"responses":{"200":{"description":"Locke actualizado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Actualizar un locke","tags":["Lockes"]},"delete":{"operationId":"LockesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Locke desactivado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Desactivar un locke","tags":["Lockes"]}},"/api/lockes/{id}/kills":{"post":{"operationId":"LockesController_addKill","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"userId","required":true,"in":"query","schema":{"type":"string"}},{"name":"count","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"201":{"description":"Muerte registrada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"400":{"description":"Datos inválidos"},"403":{"description":"No autorizado para registrar muertes de otro usuario"},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Registrar una muerte en un locke","tags":["Lockes"]}},"/api/lockes/{id}/my-kills":{"post":{"operationId":"LockesController_addMyKill","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"count","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"201":{"description":"Muerte registrada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"400":{"description":"Datos inválidos"},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Registrar una muerte propia en un locke","tags":["Lockes"]}},"/api/lockes/{id}/battles":{"post":{"operationId":"LockesController_addBattle","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBattleDto"}}}},"responses":{"201":{"description":"Batalla registrada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedBattleResponseDto"}}}},"400":{"description":"Datos inválidos"}},"security":[{"access-token":[]}],"summary":"Registrar o programar una batalla en un locke","tags":["Lockes"]},"get":{"operationId":"LockesController_getBattles","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de batallas del locke","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrichedBattleResponseDto"}}}}},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Obtener todas las batallas de un locke","tags":["Lockes"]}},"/api/lockes/battles/{battleId}":{"patch":{"operationId":"LockesController_updateBattle","parameters":[{"name":"battleId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBattleDto"}}}},"responses":{"200":{"description":"Batalla actualizada exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedBattleResponseDto"}}}},"400":{"description":"Datos de actualización inválidos"},"403":{"description":"No autorizado para actualizar la batalla"},"404":{"description":"Batalla no encontrada"}},"security":[{"access-token":[]}],"summary":"Actualizar una batalla (estado, resultados, etc.)","tags":["Lockes"]}},"/api/lockes/{id}/leaderboard":{"get":{"operationId":"LockesController_getLeaderboard","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantResponseDto"}}}}},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Obtener clasificación de participantes en un locke","tags":["Lockes"]}},"/api/lockes/{id}/participants":{"post":{"operationId":"LockesController_addParticipant","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddParticipantDto"}}}},"responses":{"201":{"description":"Participante agregado exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}},"400":{"description":"El participante ya existe en el locke"},"404":{"description":"Locke no encontrado"}},"security":[{"access-token":[]}],"summary":"Agregar un participante a un locke","tags":["Lockes"]}},"/api/lockes/user/{userId}":{"get":{"operationId":"LockesController_findByUser","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeParticipating","required":false,"in":"query","description":"Incluir lockes donde el usuario es solo participante. Por defecto es true.","schema":{"enum":["true","false"],"type":"string"}},{"name":"active","required":false,"in":"query","description":"Filtrar por estado activo. Si se omite, devuelve todos los lockes independientemente de su estado.","schema":{"enum":["true","false"],"type":"string"}}],"responses":{"200":{"description":"Lista de lockes del usuario","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}}}},"security":[{"access-token":[]}],"summary":"Obtener lockes de un usuario específico","tags":["Lockes"]}},"/api/lockes/my/lockes":{"get":{"operationId":"LockesController_findMyLockes","parameters":[{"name":"includeParticipating","required":false,"in":"query","description":"Incluir lockes donde el usuario es solo participante. Por defecto es true.","schema":{"enum":["true","false"],"type":"string"}},{"name":"active","required":false,"in":"query","description":"Filtrar por estado activo. Si se omite, devuelve todos los lockes independientemente de su estado.","schema":{"enum":["true","false"],"type":"string"}}],"responses":{"200":{"description":"Lista de lockes del usuario autenticado","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EnrichedLockeResponseDto"}}}}}},"security":[{"access-token":[]}],"summary":"Obtener lockes del usuario autenticado","tags":["Lockes"]}},"/api/statistics/me":{"get":{"operationId":"StatisticsController_getMyStatistics","parameters":[],"responses":{"200":{"description":"User statistics retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatisticsDto"}}}},"401":{"description":"Unauthorized - Invalid or missing authentication token"}},"security":[{"bearer":[]}],"summary":"Get statistics for the authenticated user","tags":["Statistics"]}},"/api/statistics/user/{userId}":{"get":{"operationId":"StatisticsController_getUserStatistics","parameters":[{"name":"userId","required":true,"in":"path","description":"The ID of the user to get statistics for","schema":{"type":"string"}}],"responses":{"200":{"description":"User statistics retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatisticsDto"}}}},"404":{"description":"User not found"}},"summary":"Get statistics for a specific user","tags":["Statistics"]}},"/api/statistics/rankings":{"get":{"operationId":"StatisticsController_getRankings","parameters":[],"responses":{"200":{"description":"User rankings retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserStatisticsDto"}}}}}},"summary":"Get rankings of all users based on their statistics","tags":["Statistics"]}}},"info":{"title":"Nuzlock Tracker API","description":"API for Nuzlock Tracker","version":"1.0","contact":{}},"tags":[{"name":"nuzlock-tracker","description":""}],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"JWT","description":"Ingresa tu token JWT","in":"header"}},"schemas":{"UserResponseDto":{"type":"object","properties":{"_id":{"type":"string","description":"ID único del usuario"},"name":{"type":"string","description":"Nombre completo del usuario"},"username":{"type":"string","description":"Nombre de usuario (username)"}},"required":["_id","name","username"]},"UserStatsResponseDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario"},"username":{"type":"string","description":"Nombre de usuario"},"name":{"type":"string","description":"Nombre completo del usuario"},"totalDeaths":{"type":"number","description":"Total de Pokémon muertos en todos los lockes"},"averageDeathsPerLocke":{"type":"number","description":"Media de Pokémon muertos por locke"},"totalLockes":{"type":"number","description":"Número de lockes en los que ha participado"}},"required":["userId","username","totalDeaths","averageDeathsPerLocke","totalLockes"]},"RegisterDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"username":{"type":"string","description":"The username for login","example":"johndoe123"},"password":{"type":"string","description":"The password for login","example":"StrongP@ssw0rd"}},"required":["name","username","password"]},"UserInfoDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"username":{"type":"string","description":"The username of the user","example":"johndoe123"}},"required":["name","username"]},"RegisterResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserInfoDto"}]},"id":{"type":"string","description":"The user ID","example":"60d5ec9af682fbd12a0944ab"},"access_token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"success":{"type":"boolean","description":"If the acction was successful"}},"required":["user","id","access_token","success"]},"ErrorResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP status code","example":400},"message":{"description":"Error message or array of error messages","oneOf":[{"type":"string","example":"Invalid credentials"},{"type":"array","items":{"type":"string"},"example":["username must be longer than or equal to 3 characters"]}]},"error":{"type":"string","description":"Error type identifier","example":"Bad Request"},"success":{"type":"boolean","description":"If the acction was successful"}},"required":["statusCode","message","error","success"]},"LoginDto":{"type":"object","properties":{"username":{"type":"string","description":"Username del usuario","example":"usuario1"},"password":{"type":"string","description":"Contraseña del usuario","example":"password123"}},"required":["username","password"]},"LoginResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserInfoDto"}]},"id":{"type":"string","description":"The user ID","example":"60d5ec9af682fbd12a0944ab"},"access_token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"success":{"type":"boolean","description":"If the acction was successful"}},"required":["user","id","access_token","success"]},"ValidateResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserInfoDto"}]},"id":{"type":"string","description":"The user ID","example":"60d5ec9af682fbd12a0944ab"},"access_token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"success":{"type":"boolean","description":"If the acction was successful"}},"required":["user","id","access_token","success"]},"CreateLockeDto":{"type":"object","properties":{"name":{"type":"string","description":"Nombre del locke"},"description":{"type":"string","description":"Descripción del locke"},"isActive":{"type":"boolean","description":"Indica si el locke está activo","default":true},"adminIds":{"description":"Lista inicial de IDs de administradores","type":"array","items":{"type":"string"}}},"required":["name"]},"Score":{"type":"object","properties":{"mcm":{"type":"number","description":"Max Compare Metric"},"wcm":{"type":"number","description":"Win Compare Metric"}},"required":["mcm","wcm"]},"EnrichedParticipantResponseDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario participante"},"username":{"type":"string","description":"Nombre de usuario"},"name":{"type":"string","description":"Nombre completo"},"deaths":{"type":"number","description":"Número de muertes"},"isAdmin":{"type":"boolean","description":"Indica si el participante es administrador"},"score":{"description":"Puntuación total","allOf":[{"$ref":"#/components/schemas/Score"}]},"points":{"type":"number","description":"Puntuación de victorias"}},"required":["userId","username","name","deaths","isAdmin","score","points"]},"EnrichedLockeResponseDto":{"type":"object","properties":{"_id":{"type":"string","description":"ID único del locke"},"name":{"type":"string","description":"Nombre del locke"},"participants":{"description":"Lista de participantes","type":"array","items":{"$ref":"#/components/schemas/EnrichedParticipantResponseDto"}},"adminIds":{"description":"Lista de IDs de administradores","type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","description":"Indica si el locke está activo"},"createdAt":{"format":"date-time","type":"string","description":"Fecha de creación del locke"},"updatedAt":{"format":"date-time","type":"string","description":"Fecha de última actualización del locke"}},"required":["_id","name","participants","adminIds","isActive","createdAt","updatedAt"]},"UpdateLockeDto":{"type":"object","properties":{"name":{"type":"string","description":"Nombre del locke"},"description":{"type":"string","description":"Descripción del locke"},"isActive":{"type":"boolean","description":"Indica si el locke está activo","default":true},"adminIds":{"description":"Lista inicial de IDs de administradores","type":"array","items":{"type":"string"}}}},"ParticipantResultDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario participante"},"score":{"type":"number","description":"Puntuación obtenida por el participante"}},"required":["userId","score"]},"CreateBattleDto":{"type":"object","properties":{"participantIds":{"description":"IDs de los usuarios participantes en la batalla","type":"array","items":{"type":"string"}},"status":{"type":"string","description":"Estado inicial de la batalla","enum":["scheduled","completed","canceled"],"default":"scheduled"},"results":{"description":"Resultados detallados (requerido si status es completed)","type":"array","items":{"$ref":"#/components/schemas/ParticipantResultDto"}},"bestOf":{"type":"number","description":"Sistema al mejor de X","default":3},"date":{"format":"date-time","type":"string","description":"Fecha de la batalla (null para fecha indeterminada)","nullable":true},"notes":{"type":"string","description":"Notas adicionales"}},"required":["participantIds","status","results","bestOf","notes"]},"EnrichedResultDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario participante"},"score":{"type":"number","description":"Puntuación obtenida"},"username":{"type":"string","description":"Nombre de usuario"},"name":{"type":"string","description":"Nombre completo"}},"required":["userId","score","username","name"]},"EnrichedParticipantDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario"},"username":{"type":"string","description":"Nombre de usuario"},"name":{"type":"string","description":"Nombre completo"}},"required":["userId","username","name"]},"EnrichedBattleResponseDto":{"type":"object","properties":{"_id":{"type":"string","description":"ID único de la batalla"},"participantIds":{"description":"IDs de los usuarios participantes en la batalla","type":"array","items":{"type":"string"}},"status":{"type":"string","description":"Estado de la batalla","enum":["scheduled","completed","canceled"]},"results":{"description":"Resultados con información de usuarios","type":"array","items":{"$ref":"#/components/schemas/EnrichedResultDto"}},"bestOf":{"type":"number","description":"Sistema al mejor de X","example":3},"lockeId":{"type":"string","description":"ID del locke al que pertenece la batalla"},"date":{"format":"date-time","type":"string","description":"Fecha de la batalla (null si está indeterminada)","nullable":true},"notes":{"type":"string","description":"Notas adicionales sobre la batalla"},"createdAt":{"format":"date-time","type":"string","description":"Fecha de creación del registro"},"participants":{"description":"Información detallada de los participantes","type":"array","items":{"$ref":"#/components/schemas/EnrichedParticipantDto"}}},"required":["_id","participantIds","status","results","bestOf","lockeId","createdAt"]},"UpdateBattleDto":{"type":"object","properties":{"status":{"type":"string","description":"Estado de la batalla","enum":["scheduled","completed","canceled"]},"results":{"description":"Resultados detallados de la batalla","type":"array","items":{"$ref":"#/components/schemas/ParticipantResultDto"}},"date":{"format":"date-time","type":"string","description":"Fecha de la batalla (null para fecha indeterminada)","nullable":true},"notes":{"type":"string","description":"Notas adicionales"}}},"ParticipantResponseDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario participante"},"username":{"type":"string","description":"Nombre de usuario"},"name":{"type":"string","description":"Nombre completo"},"deaths":{"type":"number","description":"Número de muertes"},"isAdmin":{"type":"boolean","description":"Indica si el participante es administrador"}},"required":["userId","username","name","deaths","isAdmin"]},"AddParticipantDto":{"type":"object","properties":{"userId":{"type":"string","description":"ID del usuario a agregar como participante"}},"required":["userId"]},"UserStatisticsDto":{"type":"object","properties":{"userId":{"type":"string","description":"User ID"},"username":{"type":"string","description":"Username"},"totalDeaths":{"type":"number","description":"Total number of Pokémon deaths across all lockes"},"averageDeathsPerLocke":{"type":"number","description":"Average number of deaths per locke"},"totalBattlesWon":{"type":"number","description":"Total number of battles won (best of series)"},"totalBattlePoints":{"type":"number","description":"Total battle points earned"},"performanceScore":{"type":"number","description":"Overall performance score calculated from other metrics"},"rank":{"type":"number","description":"User ranking position"}},"required":["userId","username","totalDeaths","averageDeathsPerLocke","totalBattlesWon","totalBattlePoints","performanceScore"]}}}}